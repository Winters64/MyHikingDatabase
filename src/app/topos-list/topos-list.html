<h3>{{ title }}</h3>

<mat-chip-listbox multiple [(ngModel)]="selectedValleys" (change)="onValleyChange($event)">
  @for (valley of valleys; track $index) {
    <mat-chip-option [value]="valley">{{valley}}</mat-chip-option>
  }
</mat-chip-listbox>

<mat-chip-listbox multiple [(ngModel)]="selectedLevels" (change)="onLevelChange($event)">
  @for (level of levels; track $index) {
    <mat-chip-option [value]="level">{{level}}</mat-chip-option>
  }
</mat-chip-listbox>

<div>
  <mat-slider min="0" max="{{ maxAltitude }}" step="500" showTickMarks (change)="onAltitudeChange(sliderStart.value, sliderEnd.value)">
    <input value="0" matSliderStartThumb #sliderStart>
    <input value="{{ maxAltitude }}" matSliderEndThumb #sliderEnd>
  </mat-slider>
  <label class="example-value-label"> Entre {{sliderStart.value}} m et {{sliderEnd.value}} m</label>
</div>

<div>
  <mat-slider min="0" max="{{ maxElevation }}" step="500" showTickMarks (change)="onElevationChange(sliderStart2.value, sliderEnd2.value)">
    <input value="0" matSliderStartThumb #sliderStart2>
    <input value="{{ maxElevation }}" matSliderEndThumb #sliderEnd2>
  </mat-slider>
  <label class="example-value-label"> Entre {{sliderStart2.value}} m et {{sliderEnd2.value}} m</label>
</div>


<table mat-table [dataSource]="dataSource" matSort  class="mat-elevation-z8">
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Id </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>
  <ng-container matColumnDef="altitude">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Altitude </th>
    <td mat-cell *matCellDef="let element"> {{element.altitude}} </td>
  </ng-container>
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom </th>
    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
  </ng-container>
  <ng-container matColumnDef="level">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Niveau </th>
    <td mat-cell *matCellDef="let element"> {{element.level}} </td>
  </ng-container>
  <ng-container matColumnDef="duration">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Durée </th>
    <td mat-cell *matCellDef="let element"> {{element.duration}} </td>
  </ng-container>
  <ng-container matColumnDef="elevation">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Dénivelé </th>
    <td mat-cell *matCellDef="let element"> {{element.elevation}} </td>
  </ng-container>
  <ng-container matColumnDef="kilometers">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Kilomètres </th>
    <td mat-cell *matCellDef="let element"> {{element.kilometers}} </td>
  </ng-container>
  <ng-container matColumnDef="type">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Type </th>
    <td mat-cell *matCellDef="let element"> {{element.type}} </td>
  </ng-container>
  <ng-container matColumnDef="region">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Région </th>
    <td mat-cell *matCellDef="let element"> {{element.region}} </td>
  </ng-container>
  <ng-container matColumnDef="valley">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Vallée </th>
    <td mat-cell *matCellDef="let element"> {{element.valley}} </td>
  </ng-container>
  <ng-container matColumnDef="panoramique">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Panoramique </th>
    <td mat-cell *matCellDef="let element"> {{element.panoramique}} </td>
  </ng-container>
  <ng-container matColumnDef="start">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Départ </th>
    <td mat-cell *matCellDef="let element"> {{element.start}} </td>
  </ng-container>
  <ng-container matColumnDef="link">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Lien </th>
    <td mat-cell *matCellDef="let element">
      @if (element.link) {
        <a href="{{ element.link }}" target="_blank">
          <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="link"></mat-icon>
        </a>
      }
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<mat-paginator [pageSizeOptions]="[20, 50, 100]" aria-label="Select page of periodic elements"></mat-paginator>
